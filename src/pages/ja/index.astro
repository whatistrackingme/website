---
import { getCollection, render } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import Hero from "../../components/Hero.astro";
import HowItWorks from "../../components/HowItWorks.astro";
import FAQ from "../../components/FAQ.astro";

const locale = "ja" as const;

const pages = await getCollection("pages");
const page = pages.find((p) => p.id === "home-ja");
const { Content } = page ? await render(page) : { Content: null };
---

<BaseLayout locale={locale}>
  <Hero locale={locale} />
  <HowItWorks locale={locale} />

  {
    Content && (
      <section class="py-20 px-4">
        <div class="prose prose-lg max-w-3xl mx-auto prose-headings:text-primary prose-headings:uppercase prose-headings:tracking-wider prose-a:text-primary prose-blockquote:border-l-primary/40 prose-blockquote:bg-base-200/50 prose-blockquote:rounded-r-lg prose-blockquote:py-1 prose-blockquote:px-4 prose-strong:text-base-content">
          <Content />
        </div>
      </section>
    )
  }

  <FAQ locale={locale} />
</BaseLayout>
